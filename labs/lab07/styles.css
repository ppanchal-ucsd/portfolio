:root { --bg: #0b0c0f; --fg: #eaeef2; --muted: #aeb6bf; }
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0; padding: 1rem;
  font: 100%/1.5 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: var(--fg); background: var(--bg);
  max-width: 90rem; margin-inline: auto; display: grid; gap: 1rem;
}
.topbar { display: flex; gap: 1rem; align-items: baseline; }
.topbar h1 { margin: 0; font-weight: 700; }
.time-filter { margin-left: auto; display: grid; grid-template-columns: auto 1fr auto auto; gap: .5rem 1rem; align-items: center; }
#selected-time { display: block; min-width: 4.5rem; text-align: right; }
#any-time { color: var(--muted); }
#map { position: relative; width: 100%; height: calc(100vh - 6rem); border-radius: 12px; overflow: hidden; }
#map > canvas { filter: saturate(1.05) contrast(1.05); }
#map svg { position: absolute; inset: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }
#map svg circle { pointer-events: auto; stroke: #fff; stroke-width: 1; fill-opacity: .6; }
.legend {
  position: absolute; top: 12px; left: 12px; z-index: 2;
  background: rgba(20,22,26,.85); color: #eaeef2; border: 1px solid rgba(255,255,255,.1);
  padding: .5rem .75rem; border-radius: 10px; font-size: .9rem; backdrop-filter: blur(6px);
}
.legend .row { display: flex; align-items: center; gap: .5rem; }
.swatch { display: inline-block; width: 14px; height: 14px; border-radius: 50%; border: 1px solid #fff; }
.swatch-out { background: #4a7bd1; }
.swatch-in  { background: #f26a3d; }
